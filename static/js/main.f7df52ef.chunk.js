(this["webpackJsonpTRAIN-IT"]=this["webpackJsonpTRAIN-IT"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c,i,o,r=n(0),a=n(1),s=n.n(a),l=n(16),u=n.n(l),d=(n(23),n(24),n(2)),j=n.n(d),h=n(7),f=n(4),b=n(8),O=n(17),p=!1,v=!1,x="",g=!1,k=[];var w=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],s=t[1],l=Object(a.useState)(""),u=Object(f.a)(l,2),d=u[0],w=u[1],m=Object(a.useState)("Please Wait! Loading..."),C=Object(f.a)(m,2),y=C[0],S=C[1],T=Object(a.useRef)(null),I=Object(a.useRef)(null),R=function(){var e=Object(h.a)(j.a.mark((function e(){var t,c,i,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){console.log("HandPose Model Loaded!"),S("Step 1: Name and record at least 2 hand gestures!")},t=I.current.video,c=t.videoWidth,i=t.videoHeight,t.width=c,t.height=i,console.log(t.width),r={inputs:42,outputs:n,task:"classification",debug:!0},o=b.neuralNetwork(r),b.handpose(t,a).on("predict",N);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R()}),[]);var N=function(e){if(e.length>0){if(g=!0,p||v){i=[];for(var t=0;t<e[0].landmarks.length;t++)i.push(e[0].landmarks[t][0]),i.push(e[0].landmarks[t][1])}if(p){console.log(i);var n=[c];o.addData(i,n)}else v&&o.classify(i,A)}else g=!1};function P(){v=!0,setInterval((function(){w(x)}),300)}function A(e,t){t[0].confidence>.87&&(console.log(t[0].label),x=t[0].label)}function D(){return(D=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.save();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)("div",{children:[Object(r.jsx)("nav",{children:Object(r.jsx)("h1",{children:"TRAIN-IT"})}),Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:y})}),Object(r.jsx)(O,{ref:I,audio:!1,mirrored:!0,style:{width:640,height:480}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:d})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{ref:T,type:"text"}),Object(r.jsx)("button",{onClick:function(){g?(c=T.current.value,w("Recording"),console.log(c),p=!0,console.log("Collecting Data"),setTimeout((function(){p=!1,n>=1&&S("Step 2: Click train and watch the Neural network learn!"),w(""),k.includes(c)||s(n+1),k.push(c)}),7e3)):alert("Please place your hand in view of the camera before recording")},children:"Record"}),Object(r.jsx)("button",{onClick:function(){window.location.reload()},children:"RESET"})]}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:n+" Hand Gestures Recorded!"})})}),Object(r.jsx)("button",{onClick:function(){n>1&&(o.normalizeData(),o.train({epochs:30},(function(){console.log("model trained"),S("Step 3: Click the classify button to try it out or click save to download your trained files!")})))},children:"train"}),Object(r.jsx)("button",{onClick:function(){return P()},children:"Classify"}),Object(r.jsx)("button",{onClick:function(){return v=!1,void(x="")},children:"Stop"}),Object(r.jsx)("button",{onClick:function(){return function(){return D.apply(this,arguments)}()},children:"save files to downloads"})]})]})};var m=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(w,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),o(e),r(e)}))};u.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.f7df52ef.chunk.js.map